<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./styles.css" />
  <title>Celestial Diary</title>
</head>

<body>
  <canvas id="universeCanvas"></canvas>
  <div class="notebook-layout">
    <aside class="emoji-sidebar left">
      <div id="moodEmoji"></div>
    </aside>

    <main class="diary-page">
      <!-- Date and Emotion Timeline at Top -->
      <section class="emotion-timeline card">
        <h2 class="section-title">Emotions Throughout Today â€” <span id="currentDate"></span></h2>
        <div class="time-options">
          <label>Morning:</label>
          <select id="morningEmotion"></select>
          <label>Afternoon:</label>
          <select id="afternoonEmotion"></select>
          <label>Evening:</label>
          <select id="eveningEmotion"></select>
        </div>
      </section>

      <!-- Primary Reflections -->
      <section class="reflection-questions">
        <div class="card">
          <h2 class="section-title">ðŸŒž What did I feel today?</h2>
          <textarea id="feelInput" rows="5" placeholder="Describe your day emotionally..."></textarea>
        </div>
        <div class="card">
          <h2 class="section-title">ðŸŒ™ What do I wish for tomorrow?</h2>
          <textarea id="wishInput" rows="5" placeholder="Set an intention for tomorrow..."></textarea>
        </div>
      </section>

      <!-- Tabbed Section for Gratitude & Influencers -->
      <section class="tabs-section card">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="gratitude">Gratitude</button>
          <button class="tab-btn" data-tab="influencers">Mood Influencers</button>
        </div>
        <div class="tab-content">
          <div id="gratitude" class="tab-panel active">
            <p>âœ¨ Three things I'm grateful for:</p>
            <input type="text" id="gratitude1" placeholder="First thing...">
            <input type="text" id="gratitude2" placeholder="Second thing...">
            <input type="text" id="gratitude3" placeholder="Third thing...">
          </div>

          <div id="influencers" class="tab-panel">
            <div class="influencers">
              <div class="influencer-category">
                <h3>Physical</h3>
                <div class="influencer-options" id="physicalInfluencers"></div>
              </div>
              <div class="influencer-category">
                <h3>Environmental</h3>
                <div class="influencer-options" id="environmentalInfluencers"></div>
              </div>
              <div class="influencer-category">
                <h3>Social</h3>
                <div class="influencer-options" id="socialInfluencers"></div>
              </div>
              <div class="influencer-category">
                <h3>Work/Productivity</h3>
                <div class="influencer-options" id="workInfluencers"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <button id="save-btn" class="btn btn-primary">Save Entry</button>
    </main>

    <aside class="emoji-sidebar right">
      <div id="emojiSuggestions"></div>
    </aside>
  </div>

  <script src="writeToday.js"></script>
  <script>
    // Set current date
    document.getElementById('currentDate').textContent = new Date().toLocaleDateString();

    // Tab switching logic
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
      });
    });
  </script>
</body>

</html>
